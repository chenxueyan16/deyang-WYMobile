(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/infoselect/infoselect"],{"1aa1":function(t,i,o){"use strict";var e={uNavbar:function(){return o.e("uview-ui/components/u-navbar/u-navbar").then(o.bind(null,"ba98"))},uForm:function(){return o.e("uview-ui/components/u-form/u-form").then(o.bind(null,"8393"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"2189"))},uInput:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-input/u-input")]).then(o.bind(null,"5771"))},uSwitch:function(){return o.e("uview-ui/components/u-switch/u-switch").then(o.bind(null,"119f"))},uSelect:function(){return o.e("uview-ui/components/u-select/u-select").then(o.bind(null,"8a06"))},uCalendar:function(){return o.e("uview-ui/components/u-calendar/u-calendar").then(o.bind(null,"6b93"))},uUpload:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-upload/u-upload")]).then(o.bind(null,"c32e"))},uLoading:function(){return o.e("uview-ui/components/u-loading/u-loading").then(o.bind(null,"73e3"))}},n=function(){var t=this,i=t.$createElement,o=(t._self._c,{color:"#888"}),e={color:"#888"},n={color:"#888"},u={color:"#888"},a={color:"#888"},s={color:"#888"},r={color:"#888"},l={color:"#888"},m={color:"#888"},h={color:"#888"},c={color:"#888"},d={color:"#888"},b={color:"#888"},f={color:"#888"};t._isMounted||(t.e0=function(i){t.showCard=!0},t.e1=function(i){t.showNation=!0},t.e2=function(i){t.showRadio=!0},t.e3=function(i){t.showType=!0},t.e4=function(i){t.showTime1=!0},t.e5=function(i){t.showArea=!0},t.e6=function(i){t.showBuild=!0},t.e7=function(i){t.showUnit=!0},t.e8=function(i){t.showFloor=!0},t.e9=function(i){t.showRoom=!0}),t.$mp.data=Object.assign({},{$root:{a0:o,a1:e,a2:n,a3:u,a4:a,a5:s,a6:r,a7:l,a8:m,a9:h,a10:c,a11:d,a12:b,a13:f}})},u=[];o.d(i,"b",(function(){return n})),o.d(i,"c",(function(){return u})),o.d(i,"a",(function(){return e}))},"9ac3":function(t,i,o){"use strict";o.r(i);var e=o("b316"),n=o.n(e);for(var u in e)"default"!==u&&function(t){o.d(i,t,(function(){return e[t]}))}(u);i["default"]=n.a},b316:function(t,i,o){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=o("31af"),n={data:function(){return{showArea:!1,canShowArea:!1,showBuild:!1,canShowBuild:!1,showUnit:!1,canShowUnit:!1,showFloor:!1,canShowFloor:!1,showRoom:!1,canShowRoom:!1,showCard:!1,showType:!1,showNation:!1,canSubmit:!1,submitForm:{deptName:"",deptId:null,mobileChannel:0,mobileChannelName:"本人手机号",areaNumber:"",username:"",documentType:"身份证",type:"业主",idNumber:"",isManage:!1,mobile:"",roleType:510,nationName:"汉族",nationId:1,headPortraitUrl:"../image/pic_empty.png",time:"",startTime:"",endTime:"",roomId:null},action:e.url+"images/photoupload",fileList:[],build:"",unit:"",floor:"",room:"",area:"",areas:[],builds:[],units:[],floors:[],rooms:[],showLoading:!1,show:!1,showTime1:!1,cardList:[{value:0,label:"身份证"},{value:1,label:"港澳通行证"},{value:2,label:"护照"}],showRadio:!1,radioList:[{value:0,label:"本人手机号"},{value:1,label:"非本人手机号"}],typeList:[{value:510,label:"业主"},{value:511,label:"业主夫妻"},{value:512,label:"业主子女"},{value:513,label:"业主父母"},{value:514,label:"业主亲属"},{value:515,label:"业主朋友"},{value:520,label:"租客"},{value:521,label:"租客夫妻"},{value:522,label:"租客子女"},{value:523,label:"租客父母"},{value:524,label:"租客亲属"},{value:525,label:"租客朋友"},{value:711,label:"亲友访客"},{value:712,label:"公务访客"},{value:721,label:"外卖"},{value:722,label:"快递"}],nationList:[]}},onLoad:function(){var i=this;t.getStorage({key:"deptName",success:function(t){i.submitForm.deptName=t.data}}),t.getStorage({key:"deptId",success:function(t){i.submitForm.deptId=t.data}}),this.getNations(),this.selectBuilding({parent_id:this.submitForm.deptId})},methods:{getNations:function(){var t=this;this.$request("mp/mpcommonnation/list",JSON.stringify({limit:60})).then((function(i){t.nationList=i.page.list,t.nationList.map((function(t){t.label=t.nation,t.value=t.id}))}))},selectBuilding:function(t){},changeBuild:function(t,i){"area"===i?(this.area=t.name,this.build="",this.unit="",this.floor="",this.room="",this.showArea=!1,this.canShowBuild=!1,this.canShowUnit=!1,this.canShowFloor=!1,this.canShowRoom=!1,this.submitForm.roomId=null,this.selectBuilding({parent_id:t.deptId})):"build"===i?(this.build=t.name,this.unit="",this.floor="",this.room="",this.showBuild=!1,this.canShowUnit=!1,this.canShowFloor=!1,this.canShowRoom=!1,this.submitForm.roomId=null,this.selectBuilding({parent_id:t.deptId})):"unit"===i?(this.unit=t.name,this.floor="",this.room="",this.showUnit=!1,this.canShowFloor=!1,this.canShowRoom=!1,this.submitForm.roomId=null,this.selectBuilding({parent_id:t.deptId})):"floor"===i?(this.floor=t.name,this.room="",this.showFloor=!1,this.canShowRoom=!1,this.submitForm.roomId=null,this.selectBuilding({parent_id:t.deptId})):(this.room=t.name,this.showRoom=!1,this.submitForm.roomId=t.deptId),this.changeValue()},confirmCard:function(t){this.submitForm.documentType=t[0].label,this.showCard=!1,this.changeValue()},confirmNation:function(t){this.submitForm.nationName=t[0].label,this.submitForm.nationId=t[0].value,this.showNation=!1,this.changeValue()},confirmRadio:function(t){this.submitForm.mobileChannelName=t[0].label,this.submitForm.mobileChannel=t[0].value,this.showRadio=!1,this.changeValue()},confirmType:function(t){this.submitForm.type=t[0].label,this.submitForm.roleType=t[0].value,this.showType=!1,this.changeValue()},changeTime:function(t){this.submitForm.startTime=t.startDate+" 00:00",this.submitForm.endTime=t.endDate+" 00:00",this.submitForm.time=this.submitForm.startTime+" 至 "+this.submitForm.endTime,this.showTime1=!1,this.changeValue()},changeValue:function(){""!==this.submitForm.username&&""!==this.submitForm.idNumber&&""!==this.submitForm.mobile&&"../image/pic_empty.png"!==this.submitForm.headPortraitUrl?711==this.submitForm.roleType||712==this.submitForm.roleType||721==this.submitForm.roleType||722==this.submitForm.roleType?711==this.submitForm.roleType||712==this.submitForm.roleType?""!==this.submitForm.startTime&&""!==this.submitForm.endTime&&this.submitForm.roomId?this.canSubmit=!0:this.canSubmit=!1:""!==this.submitForm.startTime&&""!==this.submitForm.endTime?this.canSubmit=!0:this.canSubmit=!1:this.canSubmit=!!this.submitForm.roomId:this.canSubmit=!1},successHandle:function(t,i,o,e){this.submitForm.headPortraitUrl=t,this.changeValue()},removeHandle:function(t,i,o){this.submitForm.headPortraitUrl="",this.changeValue()},errorHandle:function(t,i,o,e){console.log(t),console("上传失败")},submitHandle:function(){if(!this.canSubmit)return!1;var t=/^1(3|4|5|7|8|9)\d{9}$/,i=/^[1-9]\d{5}((((19|[2-9][0-9])\d{2})(0?[13578]|1[02])(0?[1-9]|[12][0-9]|3[01]))|(((19|[2-9][0-9])\d{2})(0?[13456789]|1[012])(0?[1-9]|[12][0-9]|30))|(((19|[2-9][0-9])\d{2})0?2(0?[1-9]|1[0-9]|2[0-8]))|(((1[6-9]|[2-9][0-9])(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))0?229))\d{3}[0-9Xx]$/;if(!t.test(this.submitForm.mobile))return!1;if("身份证"==this.submitForm.documentType&&(!i.test(this.submitForm.idNumber)||18!==this.submitForm.idNumber.length))return!1;var o=this;o.showZZ=!0},addApplication:function(t){var i=this;721!=i.submitForm.roleType&&722!=i.submitForm.roleType||(i.submitForm.roomId=i.submitForm.deptId),711!=i.submitForm.roleType&&712!=i.submitForm.roleType&&721!=i.submitForm.roleType&&722!=i.submitForm.roleType||(i.submitForm.startTime=i.submitForm.startTime+":00",i.submitForm.endTime=i.submitForm.endTime+":00")}}};i.default=n}).call(this,o("c11b")["default"])},b70f:function(t,i,o){"use strict";(function(t){o("3323"),o("921b");e(o("66fd"));var i=e(o("fd70"));function e(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,o("c11b")["createPage"])},fd70:function(t,i,o){"use strict";o.r(i);var e=o("1aa1"),n=o("9ac3");for(var u in n)"default"!==u&&function(t){o.d(i,t,(function(){return n[t]}))}(u);var a,s=o("f0c5"),r=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],a);i["default"]=r.exports}},[["b70f","common/runtime","common/vendor"]]]);