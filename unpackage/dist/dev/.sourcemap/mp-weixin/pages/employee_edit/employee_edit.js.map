{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/deyangWY/pages/employee_edit/employee_edit.vue?ece4","webpack:///C:/Users/Administrator/Desktop/deyangWY/pages/employee_edit/employee_edit.vue?05f0","webpack:///C:/Users/Administrator/Desktop/deyangWY/pages/employee_edit/employee_edit.vue?79c1","webpack:///C:/Users/Administrator/Desktop/deyangWY/pages/employee_edit/employee_edit.vue?0b70","uni-app:///pages/employee_edit/employee_edit.vue"],"names":["createPage","Page","renderjs","component","options","__file","components","uNavbar","uUpload","uForm","uFormItem","uInput","uSwitch","uSelect","uPopup","uTag","uEmpty","uCellItem","uLoading","render","_vm","this","_h","$createElement","a0","_self","_c","color","a1","a2","a3","a4","a5","a6","_isMounted","e0","$event","showCard","e1","showNation","e2","showDept","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,sBACA,0D,mDACAA,EAAWC,a;;;;2DCHX,8NACIC,EADJ,iHAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wCACZ,aAAAF,E;;;;2GCtBf,0zB;;;;2GCAA,8LAAIG,EAAa,CACfC,QAAS,WACP,OAAO,8KAITC,QAAS,WACP,OAAO,kNAITC,MAAO,WACL,OAAO,kKAITC,UAAW,WACT,OAAO,oOAITC,OAAQ,WACN,OAAO,4MAITC,QAAS,WACP,OAAO,8KAITC,QAAS,WACP,OAAO,8KAITC,OAAQ,WACN,OAAO,wKAITC,KAAM,WACJ,OAAO,4JAITC,OAAQ,WACN,OAAO,wKAITC,UAAW,WACT,OAAO,gMAITC,SAAU,WACR,OAAO,qLAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACV,CACPC,MAAO,SAELC,EAAK,CACPD,MAAO,QAELE,EAAK,CACPF,MAAO,QAELG,EAAK,CACPH,MAAO,QAELI,EAAK,CACPJ,MAAO,QAELK,EAAK,CACPL,MAAO,QAELM,EAAK,CACPN,MAAO,QAGJP,EAAIc,aACPd,EAAIe,GAAK,SAASC,GAChBhB,EAAIiB,UAAW,GAGjBjB,EAAIkB,GAAK,SAASF,GAChBhB,EAAImB,YAAa,GAGnBnB,EAAIoB,GAAK,SAASJ,GAChBhB,EAAIqB,UAAW,IAInBrB,EAAIsB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLtB,GAAIA,EACJI,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,MAKRc,GAAmB,EACnBC,EAAkB,GACtB7B,EAAO8B,eAAgB,G;;;;2DCvHvB,8eAAkxB,eAAG,G;;;;6HC6DrxB,yC,EACA,CACA,KADA,WAEA,OACA,aACA,aACA,kCACA,YACA,YACA,cACA,WACA,QACA,aACA,CACA,QACA,eACA,CACA,QACA,aAEA,cACA,YACA,QACA,mBACA,YACA,UACA,gBACA,YACA,WACA,cACA,cACA,oBAEA,WACA,mBACA,YACA,gBACA,OACA,iBACA,WACA,CACA,iBACA,6CACA,SACA,CACA,gBACA,oEACA,UAEA,aACA,eACA,UAGA,OArDA,SAqDA,GACA,aACA,kBACA,WACA,iBAEA,eAEA,gCAEA,SACA,sBACA,WACA,qFACA,yBACA,8BACA,iBACA,oBAIA,qBAwBA,sBAsBA,gCACA,kCACA,oBAEA,6BACA,mCACA,oBAEA,8BACA,eACA,iBAEA,wBACA,wCACA,iBACA,oBAEA,0BACA,sCACA,oCACA,mBACA,oBAEA,uBACA,qEACA,wLACA,kBAEA,mBAGA,wBACA,mBACA,SAEA,8BACA,oTAGA,sCAOA,qCACA,4EAQA,MACA,iBAEA,mBAVA,YACA,mBACA,4BAEA,IAZA,YACA,mBACA,4BAEA,IAkBA,qBACA,WACA,kBAuCA,qBACA,WACA,oB","file":"pages/employee_edit/employee_edit.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/employee_edit/employee_edit.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./employee_edit.vue?vue&type=template&id=1d38017e&\"\nvar renderjs\nimport script from \"./employee_edit.vue?vue&type=script&lang=js&\"\nexport * from \"./employee_edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/employee_edit/employee_edit.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./employee_edit.vue?vue&type=template&id=1d38017e&\"","var components = {\n  uNavbar: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n    )\n  },\n  uUpload: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n    )\n  },\n  uForm: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n    )\n  },\n  uFormItem: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n    )\n  },\n  uInput: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n    )\n  },\n  uSwitch: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-switch/u-switch\" */ \"@/uview-ui/components/u-switch/u-switch.vue\"\n    )\n  },\n  uSelect: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-select/u-select\" */ \"@/uview-ui/components/u-select/u-select.vue\"\n    )\n  },\n  uPopup: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n    )\n  },\n  uTag: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n    )\n  },\n  uEmpty: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n    )\n  },\n  uCellItem: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-item/u-cell-item\" */ \"@/uview-ui/components/u-cell-item/u-cell-item.vue\"\n    )\n  },\n  uLoading: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-loading/u-loading\" */ \"@/uview-ui/components/u-loading/u-loading.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = {\n    color: \"#888\"\n  }\n  var a1 = {\n    color: \"#888\"\n  }\n  var a2 = {\n    color: \"#888\"\n  }\n  var a3 = {\n    color: \"#888\"\n  }\n  var a4 = {\n    color: \"#888\"\n  }\n  var a5 = {\n    color: \"#888\"\n  }\n  var a6 = {\n    color: \"#888\"\n  }\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showCard = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showNation = true\n    }\n\n    _vm.e2 = function($event) {\n      _vm.showDept = true\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0,\n        a1: a1,\n        a2: a2,\n        a3: a3,\n        a4: a4,\n        a5: a5,\n        a6: a6\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./employee_edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./employee_edit.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<u-navbar back-icon-name=\"arrow-leftward\" :title=\"title\" :border-bottom=\"false\"></u-navbar>\r\n\t\t<view class=\"section2 cameraBlock_img\">\r\n\t\t\t<u-upload :action=\"action\" :file-list=\"fileList\" @on-success=\"successHandle\" @on-error=\"errorHandle\" @on-remove=\"removeHandle\" max-count=\"1\" width=\"320\" :custom-btn=\"true\" style=\"margin:0 auto;\">\r\n\t\t\t\t<image slot=\"addBtn\" src=\"/static/pic_empty.png\" class=\"photo\"></image>\r\n\t\t\t</u-upload>\r\n\t\t</view>\r\n\t\t<view class=\"formStyle\">\r\n\t\t\t<u-form ref=\"uForm\" label-width=\"auto\">\r\n\t\t\t\t<u-form-item label=\"姓名\" :border-bottom=\"false\" :label-style=\"{'color':'#888'}\">\r\n\t\t\t\t\t<u-input v-model=\"submitForm.name\" :clearable=\"false\" input-align=\"right\" placeholder=\"请输入姓名\" maxlength=\"15\" @input=\"changeValue\"/>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"证件类型\" :border-bottom=\"false\" :label-style=\"{'color':'#888'}\">\r\n\t\t\t\t\t<u-input v-model=\"submitForm.documentType\" type=\"select\" input-align=\"right\" @click=\"showCard=true\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"证件号\" :border-bottom=\"false\" :label-style=\"{'color':'#888'}\">\r\n\t\t\t\t\t<u-input v-model=\"submitForm.idNumber\" :clearable=\"false\" placeholder=\"请输入证件号\" input-align=\"right\" @input=\"changeValue\"/>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"民族\" :border-bottom=\"false\" :label-style=\"{'color':'#888'}\">\r\n\t\t\t\t\t<u-input v-model=\"submitForm.nationName\" type=\"select\" input-align=\"right\" @click=\"showNation=true;\"/>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"手机号\" :border-bottom=\"false\" :label-style=\"{'color':'#888'}\">\r\n\t\t\t\t\t<u-input v-model=\"submitForm.mobile\" :clearable=\"false\" placeholder=\"请输入手机号\" input-align=\"right\" @input=\"changeValue\"/>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item v-for=\"(item, index) in roleList\" :key=\"index\" :label=\"item.roleName\" :border-bottom=\"false\" :label-style=\"{'color':'#888'}\">\r\n\t\t\t\t\t<u-switch slot=\"right\" v-model=\"submitForm.isManage\" size=\"40\" @change=\"changeValue\"></u-switch>\r\n\t\t\t\t</u-form-item>\t\t\r\n\t\t\t</u-form>\r\n\t\t\t<u-select v-model=\"showCard\" :list=\"cardList\" @confirm=\"confirmCard\"></u-select>\r\n\t\t\t<u-select v-model=\"showNation\" :list=\"nationList\" @confirm=\"confirmNation\"></u-select>\r\n\t\t</view>\r\n\t\t<div class=\"form_title\" style=\"border-top:10px solid #F5F5F5\">所属部门</div>\r\n\t\t<view class=\"formStyle\">\r\n\t\t\t<u-form ref=\"uForm\" label-width=\"auto\">\r\n\t\t\t\t<u-form-item label=\"部门\" :border-bottom=\"false\" :label-style=\"{'color':'#888'}\">\r\n\t\t\t\t\t<u-input v-model=\"submitForm.deptList\" type=\"select\" input-align=\"right\" placeholder=\"请选择所属部门\" @click=\"showDept=true\"/>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t</u-form>\r\n\t\t\t<u-popup v-model=\"showDept\" mode=\"bottom\">\r\n\t\t\t\t<view style=\"font-size:15px;color:#295BFD;padding:8px 16px;\">{{menu}}</view>\r\n\t\t\t\t<view style=\"padding:8px 16px;\" v-if=\"deptTab\">\r\n\t\t\t\t\t<u-tag v-for=\"(item,index) in deptTab\" :key=\"index\" :text=\"item\" bg-color=\"#EFF0F7\" color=\"#4F5D73\" border-color=\"#EFF0F7\" size=\"mini\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-empty v-if=\"list.length==0\" text=\"暂无数据～\" style=\"margin-top:30px;\" src=\"/static/img_nodata.png\" iconSize=\"160\"></u-empty>\r\n\t\t\t\t<view v-if=\"list.length>0\" v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t<u-cell-item :title=\"item.name\" :arrow=\"(item.list!==undefined)&&(item.list!==[])&&item.list.length!==0\" @click=\"toChildren(item)\"></u-cell-item>\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup>\r\n\t\t</view>\r\n\t\t<view :class=\"[canSubmit?'btnActive':'btnNormal','linerbtn']\" style=\"margin-top:35px;margin-bottom:20px;\" @click=\"submitHandle\">提交</view>\n\t    <view id=\"wt-model\" v-if=\"showLoading\">\r\n\t    \t<u-loading mode=\"flower\" size=\"46\"></u-loading>\r\n\t    \t<view style=\"color:#fff;margin-top: 16px;\">\r\n\t    \t\t提交中...\r\n\t    \t</view>\r\n\t    </view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport {url,request} from '../../common/config.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle:'新增人员',\r\n\t\t\t\tmenu: '组织机构 ',\r\n\t\t\t\taction: url + 'images/photoupload',\r\n\t\t\t\tfileList: [],\r\n\t\t\t\tshowCard:false,\r\n\t\t\t\tshowNation:false,\r\n\t\t\t\tcardList: [{\r\n\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\tlabel: '身份证'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: '港澳通行证'\r\n\t\t\t\t}, {\r\n\t\t\t\t  value: 2,\r\n\t\t\t\t  label: '护照'\r\n\t\t\t\t}],\r\n\t\t\t\tnationList: [],\r\n\t\t\t\tsubmitForm:{\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tdocumentType: '身份证',\r\n\t\t\t\t\tidNumber: '',\r\n\t\t\t\t\tmobile: '',\r\n\t\t\t\t\tnationName: '汉族',\r\n\t\t\t\t\tdeptList: '',\r\n\t\t\t\t\tnationId: 1,\r\n\t\t\t\t\tdeptIdList: [],\r\n\t\t\t\t\troleIdList: [],\r\n\t\t\t\t\theadPortraitUrl: '',\r\n\t\t\t\t},\r\n\t\t\t\troleList:[{\r\n\t\t\t\t\troleName:'一级管理员'\r\n\t\t\t\t}],showDept:false,\r\n\t\t\t\tdeptTab:['部门1'],\r\n\t\t\t\tlist:[{\r\n\t\t\t\t\tname: \"赏识在于角度的转换\",\r\n\t\t\t\t\tlist:[{}]\r\n\t\t\t\t},{\r\n\t\t\t\t\tname: \"生活中不是缺少美，\",\r\n\t\t\t\t\tbody: \"学会欣赏，实际是一种积极生活的态度，是生活的调味品，会在欣赏中发现生活的美\",\r\n\t\t\t\t\topen: false,\r\n\t\t\t\t},{\r\n\t\t\t\t\tname: \"周围一些不起眼的\",\r\n\t\t\t\t\tbody: \"但是据说雕刻大卫像所用的这块大理石，曾被多位雕刻家批评得一无是处，有些人认为这块大理石采凿得不好，有些人嫌它的纹路不够美\",\r\n\t\t\t\t\topen: false,\r\n\t\t\t\t}],\r\n\t\t\t\tcanSubmit: false,\r\n\t\t\t\tshowLoading:false,\r\n\t\t\t\tid:null,\n\t\t\t}\n\t\t},\r\n\t\tonLoad(option){\r\n\t\t\tthis.id = option.id\r\n\t\t\tthis.getNations();\r\n\t\t\tif (this.id == 0) {\r\n\t\t\t\tthis.getRole([]);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getInfo();\r\n\t\t\t}\r\n\t\t\tthis.title = id == 0 ? '新增人员' : '信息编辑';\r\n\t\t},\n\t\tmethods: {\n\t\t\tgetNations:function(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.$request('mp/mpcommonnation/list',JSON.stringify({ limit: 60 })).then(res=>{\r\n\t\t\t\t\tthat.nationList = res.page.list\r\n\t\t\t\t\tthat.nationList.map(item=>{\r\n\t\t\t\t\t\titem.label=item.nation\r\n\t\t\t\t\t\titem.value=item.id\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetInfo: function () {\r\n\t\t\t  var that = this;\r\n\t\t\t //  $.ajax({\r\n\t\t\t\t// url: url + 'app/wy/one',\r\n\t\t\t\t// type: 'POST',\r\n\t\t\t\t// data: JSON.stringify({ id: id }),\r\n\t\t\t\t// success: function (res) {\r\n\t\t\t\t//   deal(res);\r\n\t\t\t\t//   var deptList = [];\r\n\t\t\t\t//   var deptIdList = [];\r\n\t\t\t\t//   if (res.code === 0) {\r\n\t\t\t\t// \tthat.submitForm = res.data;\r\n\t\t\t\t// \tres.data.deptList.map(function (item) {\r\n\t\t\t\t// \t  deptList.push(item.name);\r\n\t\t\t\t// \t  deptIdList.push(item.deptId);\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \tthat.submitForm.deptList = deptList.join(\",\");\r\n\t\t\t\t// \tthat.submitForm.deptIdList = deptIdList;\r\n\t\t\t\t// \tthat.getRole(res.data.roleList);\r\n\t\t\t\t// \tthat.changeValue();\r\n\t\t\t\t//   }\r\n\t\t\t\t// }\r\n\t\t\t //  })\r\n\t\t\t},\r\n\t\t\tgetRole: function (list) {\r\n\t\t\t  var that = this;\r\n\t// \t\t  $.ajax({\r\n\t// \t\t\turl: url + 'app/wy/selectRole',\r\n\t// \t\t\ttype: 'POST',\r\n\t// \t\t\tsuccess: function (res) {\r\n\t// \t\t\t  deal(res);\r\n\t// \t\t\t  if (res.code === 0) {\r\n\t// \t\t\t\tthat.roleList = res.data;\r\n\t// \t\t\t\tif (!info && id !== 0) {\r\n\t// \t\t\t\t  that.submitForm.roleIdList = [];\r\n\t// \t\t\t\t  if (list !== []) {\r\n\t// \t\t\t\t\tlist.map(function (item) {\r\n\t// \t\t\t\t\t  that.submitForm.roleIdList.push(item.roleId);\r\n\t// \t\t\t\t\t})\r\n\t// \t\t\t\t  }\r\n\t// \t\t\t\t}\r\n\t\r\n\t// \t\t\t  }\r\n\t// \t\t\t}\r\n\t\t\t  // })\r\n\t\t\t},\r\n\t\t\tsuccessHandle:function(data, index, lists, name){\r\n\t\t\t\tthis.submitForm.headPortraitUrl = data;\r\n\t\t\t\tthis.changeValue();\r\n\t\t\t},\r\n\t\t\tremoveHandle:function(index, lists, name){\r\n\t\t\t\tthis.submitForm.headPortraitUrl = '';\r\n\t\t\t\tthis.changeValue();\r\n\t\t\t},\r\n\t\t\terrorHandle:function(res, index, lists, name){\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tconsole('上传失败')\r\n\t\t\t},\r\n\t\t\tconfirmCard:function(e){\r\n\t\t\t\tthis.submitForm.documentType = e[0].label;\r\n\t\t\t\tthis.showCard=false\r\n\t\t\t\tthis.changeValue()\r\n\t\t\t},\r\n\t\t\tconfirmNation:function(e){\r\n\t\t\t\tthis.submitForm.nationName = e[0].label;\r\n\t\t\t\tthis.submitForm.nationId=e[0].value;\r\n\t\t\t\tthis.showNation=false\r\n\t\t\t\tthis.changeValue()\r\n\t\t\t},\r\n\t\t\tchangeValue: function () {\r\n\t\t\t\tvar length = this.submitForm.roleIdList ? this.submitForm.roleIdList.length : 0;\r\n\t\t\t\tif (this.submitForm.name !== '' && this.submitForm.idNumber !== '' && this.submitForm.deptList !== '' && length !== 0 && this.submitForm.mobile !== '' && this.submitForm.headPortraitUrl !== '../image/pic_empty.png') {\r\n\t\t\t\t\tthis.canSubmit = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.canSubmit = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsubmitHandle: function () {\r\n\t\t\t\tif (!this.canSubmit) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar phone = /^1(3|4|5|7|8|9)\\d{9}$/;\r\n\t\t\t\t\tvar number = /^[1-9]\\d{5}((((19|[2-9][0-9])\\d{2})(0?[13578]|1[02])(0?[1-9]|[12][0-9]|3[01]))|(((19|[2-9][0-9])\\d{2})(0?[13456789]|1[012])(0?[1-9]|[12][0-9]|30))|(((19|[2-9][0-9])\\d{2})0?2(0?[1-9]|1[0-9]|2[0-8]))|(((1[6-9]|[2-9][0-9])(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))0?229))\\d{3}[0-9Xx]$/;\r\n\t\t\t\t// this.submitForm.mobile = this.submitForm.mobile.replace(/\\s+/g, \"\");\r\n\t\t\t\t// this.submitForm.idNumber = this.submitForm.idNumber.replace(/\\s+/g, \"\");\r\n\t\t\t\t\tif (!phone.test(this.submitForm.mobile)) {\r\n\t\t\t\t\t  vant.Toast({\r\n\t\t\t\t\t\tmessage: '手机号格式错误！',\r\n\t\t\t\t\t\ticon: '../image/warn.png'\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.submitForm.documentType == '身份证') {\r\n\t\t\t\t\t\tif (!number.test(this.submitForm.idNumber) || this.submitForm.idNumber.length !== 18) {\r\n\t\t\t\t\t\t\tvant.Toast({\r\n\t\t\t\t\t\t\t  message: '身份证格式错误！',\r\n\t\t\t\t\t\t\t  icon: '../image/warn.png'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (id == 0) {\r\n\t\t\t\t\t\tthis.addHandle();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.modHandle();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddHandle: function () {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.showLoading = true;\r\n\t\t\t          // $.ajax({\r\n\t\t\t          //   url: url + 'app/wy/add',\r\n\t\t\t          //   type: 'POST',\r\n\t\t\t          //   data: JSON.stringify({\r\n\t\t\t          //     headPortraitUrl: that.submitForm.headPortraitUrl,\r\n\t\t\t          //     name: that.submitForm.name,\r\n\t\t\t          //     documentType: that.submitForm.documentType,\r\n\t\t\t          //     idNumber: that.submitForm.idNumber,\r\n\t\t\t          //     nationId: that.submitForm.nationId,\r\n\t\t\t          //     nationName: that.submitForm.nationName,\r\n\t\t\t          //     mobile: that.submitForm.mobile,\r\n\t\t\t          //     roleIdList: that.submitForm.roleIdList,\r\n\t\t\t          //     deptIdList: that.submitForm.deptIdList\r\n\t\t\t          //   }),\r\n\t\t\t          //   success: function (res) {\r\n\t\t\t          //     deal(res);\r\n\t\t\t          //     if (res.code == 0) {\r\n\t\t\t          //       that.showZZ = false;\r\n\t\t\t          //       vant.Toast({\r\n\t\t\t          //         message: '操作成功！',\r\n\t\t\t          //         icon: '../image/success.png'\r\n\t\t\t          //       })\r\n\t\t\t          //       setTimeout(function () {\r\n\t\t\t          //         location.href = './employee.html?edit=1';\r\n\t\t\t          //       }, 1000)\r\n\t\t\t          //     } else {\r\n\t\t\t          //       that.showZZ = false;\r\n\t\t\t  //       vant.Toast({\r\n\t\t\t  //         message: res.msg,\r\n\t\t\t  //         icon: '../image/error.png'\r\n\t\t\t  //       })\r\n\t\t\t  //     }\r\n\t\t\t  //   },\r\n\t\t\t  //   error: function (err) {\r\n\t\t\t  //     that.showZZ = false;\r\n\t\t\t  //   }\r\n\t\t\t  // })\r\n\t\t\t},\r\n\t\t\tmodHandle: function () {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.showLoading = true;\r\n\t\t\t          // $.ajax({\r\n\t\t\t          //   url: url + 'app/wy/mod',\r\n\t\t\t          //   type: 'POST',\r\n\t\t\t          //   data: JSON.stringify({\r\n\t\t\t          //     id: id,\r\n\t\t\t          //     headPortraitUrl: that.submitForm.headPortraitUrl,\r\n\t\t\t          //     name: that.submitForm.name,\r\n\t\t\t          //     documentType: that.submitForm.documentType,\r\n\t\t\t          //     idNumber: that.submitForm.idNumber,\r\n\t\t\t          //     nationId: that.submitForm.nationId,\r\n\t\t\t          //     nationName: that.submitForm.nationName,\r\n\t\t\t          //     mobile: that.submitForm.mobile,\r\n\t\t\t          //     roleIdList: that.submitForm.roleIdList,\r\n\t\t\t          //     deptIdList: that.submitForm.deptIdList\r\n\t\t\t          //   }),\r\n\t\t\t          //   success: function (res) {\r\n\t\t\t          //     deal(res);\r\n\t\t\t          //     if (res.code == 0) {\r\n\t\t\t          //       that.showZZ = false;\r\n\t\t\t          //       vant.Toast({\r\n\t\t\t          //         message: '操作成功！',\r\n\t\t\t          //         icon: '../image/success.png'\r\n\t\t\t          //       })\r\n\t\t\t          //       setTimeout(function () {\r\n\t\t\t          //         location.href = './employee_detail.html?id=' + id;\r\n\t\t\t          //       }, 1000)\r\n\t\t\t          //     } else {\r\n\t\t\t          //       that.showZZ = false;\r\n\t\t\t          //       vant.Toast({\r\n\t\t\t          //         message: res.msg,\r\n\t\t\t          //         icon: '../image/error.png'\r\n\t\t\t          //       })\r\n\t\t\t  //     }\r\n\t\t\t  //   },\r\n\t\t\t  //   error: function (err) {\r\n\t\t\t  //     that.showZZ = false;\r\n\t\t\t  //   }\r\n\t\t\t  // })\r\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}